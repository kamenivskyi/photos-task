{"version":3,"sources":["utils/config.js","api/getData.js","hooks/useAsyncData.js","hooks/useStorage.js","context/photosContext.js","hooks/usePhotosContext.js","utils/commonPropTypes.js","components/CustomButton/CustomButton.jsx","components/CustomButton/index.js","utils/helpers.js","components/GalleryItem/index.js","components/GalleryItem/GalleryItem.jsx","components/Gallery/index.js","components/Gallery/Gallery.jsx","pages/FavoritesPage/index.js","pages/FavoritesPage/FavoritesPage.jsx","components/Pagination/Pagination.jsx","components/Pagination/index.js","components/Filters/Filters.jsx","components/Preloader/index.js","components/Preloader/Preloader.jsx","pages/HomePage/index.js","pages/HomePage/HomePage.jsx","pages/PhotoPage/index.js","pages/PhotoPage/PhotoPage.jsx","routes.js","components/Header/index.js","components/Header/Header.jsx","context/PhotosState.js","components/App/index.js","components/App/App.jsx","reportWebVitals.js","index.js"],"names":["fetchStatus","paginationPage","storageTypes","API_BASE","getData","url","a","fullUrl","fetch","res","ok","Error","status","json","useAsyncData","useState","data","setData","setStatus","fetchData","useCallback","useEffect","useStorage","key","initialValue","storageType","item","window","getItem","JSON","parse","error","console","log","setItem","stringify","photosContext","React","createContext","usePhotosContext","useContext","PropTypes","shape","id","string","author","download_url","height","number","width","CustomButton","children","type","className","variant","restProps","clsx","defaultProps","getSmallImageUrl","GalleryItem","location","useHistory","handleRemoveFromFavorites","handleAddToFavorites","isFavoritesPage","pathname","isHomePage","to","src","alt","label","onClick","e","Gallery","items","map","FavoritesPage","favorites","length","Pagination","onPageChange","currentPage","first","next","previous","isFetching","useMemo","isDefaultPage","disabled","memo","Filters","page","handlePageChange","setLimitPerPage","debounced","useDebouncedCallback","value","defaultValue","onChange","callback","target","Preloader","HomePage","setPage","success","pending","failed","hasData","noData","loading","PhotoPage","useParams","Routes","path","component","exact","Header","PhotosState","setFavorites","limitPerPage","operation","photoObj","preventDefault","find","alert","updatedFavorites","filter","Provider","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8e6282d0.chunk.js","sourcesContent":["export const fetchStatus = {\r\n  success: \"success\",\r\n  failed: \"failed\",\r\n  pending: \"pending\",\r\n  initial: \"idle\",\r\n};\r\n\r\nexport const paginationPage = {\r\n  first: \"first\",\r\n  previous: \"previous\",\r\n  next: \"next\",\r\n};\r\n\r\nexport const storageTypes = {\r\n  local: \"localStorage\",\r\n  session: \"sessionStorage\",\r\n};\r\n\r\nexport const API_BASE = \"https://picsum.photos\";\r\n\r\nexport const DEFAULT_PAGE = 1;\r\nexport const DEFAULT_LIMIT_PER_PAGE = 20;\r\n\r\nexport const HEIGHT_SMALL = 400;\r\nexport const WIDTH_SMALL = 400;\r\n","import { API_BASE } from \"../utils/config\";\r\n\r\nexport const getData = async (url) => {\r\n  const fullUrl = API_BASE + url;\r\n\r\n  const res = await fetch(fullUrl);\r\n\r\n  if (!res.ok) {\r\n    throw new Error(`Could not fetch the ${fullUrl}, received: ${res.status}`);\r\n  }\r\n  return await res.json();\r\n};\r\n","import { useCallback, useEffect, useState } from \"react\";\r\nimport { getData } from \"../api/getData\";\r\nimport { fetchStatus } from \"../utils/config\";\r\n\r\nexport const useAsyncData = (url) => {\r\n  const [data, setData] = useState(null);\r\n  const [status, setStatus] = useState(fetchStatus.initial);\r\n\r\n  const fetchData = useCallback(async () => {\r\n    try {\r\n      setStatus(fetchStatus.pending);\r\n      setData(null);\r\n\r\n      const data = await getData(url);\r\n\r\n      setData(data);\r\n      setStatus(fetchStatus.success);\r\n    } catch (error) {\r\n      setStatus(fetchStatus.failed);\r\n      setData(null);\r\n    }\r\n  }, [url]);\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, [url, fetchData]);\r\n\r\n  return { data, status };\r\n};\r\n","import { useState, useEffect } from \"react\";\r\n\r\nimport { storageTypes } from \"../utils/config\";\r\n\r\nexport const useStorage = ({\r\n  key,\r\n  initialValue,\r\n  storageType = storageTypes.local,\r\n}) => {\r\n  const [data, setData] = useState(() => {\r\n    try {\r\n      const item = window[storageType].getItem(key);\r\n\r\n      return item ? JSON.parse(item) : initialValue;\r\n    } catch (error) {\r\n      console.log(\"useLocalStorage error: \", error);\r\n      return initialValue;\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    const item = window[storageType].getItem(key);\r\n\r\n    if (item) {\r\n      setData(JSON.parse(item));\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    window[storageType].setItem(key, JSON.stringify(data));\r\n  }, [data]);\r\n\r\n  return [data, setData];\r\n};\r\n","import React from \"react\";\r\n\r\nconst photosContext = React.createContext();\r\n\r\nexport default photosContext;\r\n","import { useContext } from \"react\";\r\nimport photosContext from \"../context/photosContext\";\r\n\r\nexport const usePhotosContext = () => useContext(photosContext);\r\n","import PropTypes from \"prop-types\";\r\n\r\nexport const galleryItemShape = PropTypes.shape({\r\n  id: PropTypes.string,\r\n  author: PropTypes.string,\r\n  download_url: PropTypes.string,\r\n  url: PropTypes.string,\r\n  height: PropTypes.number,\r\n  width: PropTypes.number,\r\n});\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport clsx from \"clsx\";\r\n\r\nimport \"./CustomButton.scss\";\r\n\r\nconst CustomButton = ({ children, type, className, variant, ...restProps }) => {\r\n  return (\r\n    <button\r\n      type={type}\r\n      className={clsx(\r\n        \"custom-button\",\r\n        {\r\n          \"button-primary\": variant === \"primary\",\r\n          \"button-dark\": variant === \"dark\",\r\n        },\r\n        className\r\n      )}\r\n      {...restProps}\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nCustomButton.propTypes = {\r\n  children: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.number,\r\n    PropTypes.node,\r\n  ]),\r\n  type: PropTypes.string,\r\n  variant: PropTypes.string,\r\n  className: PropTypes.string,\r\n};\r\n\r\nCustomButton.defaultProps = {\r\n  type: \"button\",\r\n  children: \"button\",\r\n  variant: \"dark\",\r\n};\r\n\r\nexport default CustomButton;\r\n","import CustomButton from \"./CustomButton\";\r\n\r\nexport default CustomButton;\r\n","import { API_BASE, HEIGHT_SMALL, WIDTH_SMALL } from \"./config\";\r\n\r\nexport const getSmallImageUrl = ({ id }) => {\r\n  return `${API_BASE}/id/${id}/${WIDTH_SMALL}/${HEIGHT_SMALL}`;\r\n};\r\n","import GalleryItem from \"./GalleryItem\";\r\n\r\nexport default GalleryItem;\r\n","import React from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { usePhotosContext } from \"../../hooks\";\r\n\r\nimport { galleryItemShape } from \"../../utils/commonPropTypes\";\r\nimport CustomButton from \"../CustomButton\";\r\nimport { getSmallImageUrl } from \"../../utils/helpers\";\r\n\r\nimport \"./GalleryItem.scss\";\r\n\r\nconst GalleryItem = ({ item }) => {\r\n  const { location } = useHistory();\r\n  const {\r\n    handleRemoveFromFavorites,\r\n    handleAddToFavorites,\r\n  } = usePhotosContext();\r\n  const isFavoritesPage = location.pathname === \"/favorites\";\r\n  const isHomePage = location.pathname === \"/\";\r\n\r\n  return (\r\n    <article className=\"gallery__item\">\r\n      <Link to={`/photo/${item.id}`}>\r\n        <img className=\"gallery__image\" src={getSmallImageUrl(item)} alt=\"\" />\r\n        {isFavoritesPage && (\r\n          <CustomButton\r\n            variant=\"primary\"\r\n            className=\"gallery__item--remove\"\r\n            label=\"remove from favorites\"\r\n            onClick={(e) => handleRemoveFromFavorites(e, item.id)}\r\n          >\r\n            Remove\r\n          </CustomButton>\r\n        )}\r\n        {isHomePage && (\r\n          <CustomButton\r\n            className=\"gallery__item--add\"\r\n            label=\"add to favorites\"\r\n            onClick={(e) => handleAddToFavorites(e, item)}\r\n          >\r\n            Add to Favorites\r\n          </CustomButton>\r\n        )}\r\n      </Link>\r\n    </article>\r\n  );\r\n};\r\n\r\nGalleryItem.propTypes = {\r\n  item: galleryItemShape,\r\n};\r\n\r\nexport default GalleryItem;\r\n","import Gallery from \"./Gallery\";\r\n\r\nexport default Gallery;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport GalleryItem from \"../GalleryItem\";\r\nimport { galleryItemShape } from \"../../utils/commonPropTypes\";\r\nimport \"./Gallery.scss\";\r\n\r\nconst Gallery = ({ items }) => (\r\n  <article className=\"gallery\">\r\n    {items?.map((item) => (\r\n      <GalleryItem item={item} key={item.id} />\r\n    ))}\r\n  </article>\r\n);\r\n\r\nGallery.propTypes = {\r\n  items: PropTypes.arrayOf(galleryItemShape),\r\n};\r\n\r\nexport default Gallery;\r\n","import FavoritesPage from \"./FavoritesPage\";\r\n\r\nexport default FavoritesPage;\r\n","import React from \"react\";\r\nimport Gallery from \"../../components/Gallery\";\r\nimport { usePhotosContext } from \"../../hooks\";\r\n\r\nconst FavoritesPage = () => {\r\n  const { favorites } = usePhotosContext();\r\n\r\n  return (\r\n    <section className=\"favorites-page\">\r\n      <div className=\"container\">\r\n        <h1 className=\"page-title\">Favorites photos</h1>\r\n        {favorites.length > 0 ? (\r\n          <Gallery items={favorites} />\r\n        ) : (\r\n          <p className=\"info-message\">There are no favorite photos yet</p>\r\n        )}\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default FavoritesPage;\r\n","import React, { useMemo } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport CustomButton from \"../CustomButton\";\r\nimport { DEFAULT_PAGE, fetchStatus, paginationPage } from \"../../utils/config\";\r\nimport \"./Pagination.scss\";\r\n\r\nconst Pagination = ({ onPageChange, currentPage, status }) => {\r\n  const { first, next, previous } = paginationPage;\r\n  const isFetching = useMemo(() => status === fetchStatus.pending, [status]);\r\n  const isDefaultPage = currentPage === DEFAULT_PAGE;\r\n\r\n  return (\r\n    <div className=\"pagination\">\r\n      <div className=\"pagination__buttons\">\r\n        <CustomButton\r\n          disabled={isFetching || isDefaultPage}\r\n          onClick={onPageChange(first)}\r\n        >\r\n          Back to first\r\n        </CustomButton>\r\n        <CustomButton\r\n          disabled={isFetching || isDefaultPage}\r\n          onClick={onPageChange(previous)}\r\n        >\r\n          Previous\r\n        </CustomButton>\r\n        <span className=\"pagination__current-page\">Page: {currentPage}</span>\r\n        <CustomButton disabled={isFetching} onClick={onPageChange(next)}>\r\n          Next\r\n        </CustomButton>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nPagination.propTypes = {\r\n  onPageChange: PropTypes.func,\r\n  status: PropTypes.string,\r\n  currentPage: PropTypes.number,\r\n};\r\n\r\nexport default React.memo(Pagination);\r\n","import Pagination from \"./Pagination\";\r\n\r\nexport default Pagination;\r\n","import React from \"react\";\r\nimport { useDebouncedCallback } from \"use-debounce\";\r\n\r\nimport Pagination from \"../Pagination\";\r\nimport { usePhotosContext } from \"../../hooks\";\r\nimport { DEFAULT_LIMIT_PER_PAGE } from \"../../utils/config\";\r\n\r\nimport \"./Filters.scss\";\r\n\r\nconst Filters = () => {\r\n  const {\r\n    page,\r\n    status,\r\n    handlePageChange,\r\n    setLimitPerPage,\r\n  } = usePhotosContext();\r\n\r\n  const debounced = useDebouncedCallback((value) => {\r\n    setLimitPerPage(value);\r\n  }, 1500);\r\n\r\n  return (\r\n    <div className=\"filters\">\r\n      <Pagination\r\n        onPageChange={handlePageChange}\r\n        currentPage={page}\r\n        status={status}\r\n      />\r\n      <label>\r\n        <span className=\"limit-text\">Limit of photos per page: </span>\r\n        <input\r\n          className=\"limit\"\r\n          type=\"number\"\r\n          defaultValue={DEFAULT_LIMIT_PER_PAGE}\r\n          onChange={(e) => debounced.callback(e.target.value)}\r\n        />\r\n      </label>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filters;\r\n","import Preloader from \"./Preloader\";\r\n\r\nexport default Preloader;\r\n","import React from \"react\";\r\n\r\nimport \"./Preloader.scss\";\r\n\r\nconst Preloader = () => (\r\n  <div className=\"preloader\">\r\n    <div className=\"preloader__inner\"></div>\r\n  </div>\r\n);\r\n\r\nexport default Preloader;\r\n","import HomePage from \"./HomePage\";\r\n\r\nexport default HomePage;\r\n","import React from \"react\";\r\n\r\nimport CustomButton from \"../../components/CustomButton\";\r\nimport Filters from \"../../components/Filters/Filters\";\r\nimport Gallery from \"../../components/Gallery\";\r\nimport Preloader from \"../../components/Preloader\";\r\nimport { usePhotosContext } from \"../../hooks\";\r\n\r\nimport { DEFAULT_PAGE, fetchStatus } from \"../../utils/config\";\r\n\r\nconst HomePage = () => {\r\n  const { data, status, page, setPage } = usePhotosContext();\r\n\r\n  const { success, pending, failed } = fetchStatus;\r\n  const hasData = data && data.length > 0;\r\n  const noData = status === success && data.length === 0;\r\n  const loading = status === pending;\r\n  const error = status === failed;\r\n\r\n  return (\r\n    <main>\r\n      <div className=\"container\">\r\n        <h1 className=\"page-title\">Home page</h1>\r\n        <Filters />\r\n        {hasData && <Gallery items={data} />}\r\n        {loading && <Preloader />}\r\n        {noData && (\r\n          <>\r\n            <p className=\"info-message\">Photos not found!</p>\r\n            {page !== 1 && (\r\n              <CustomButton onClick={() => setPage(DEFAULT_PAGE)}>\r\n                Back to the first page\r\n              </CustomButton>\r\n            )}\r\n          </>\r\n        )}\r\n        {error && <p>Error has gone</p>}\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n","import PhotoPage from \"./PhotoPage\";\r\n\r\nexport default PhotoPage;\r\n","import React from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport CustomButton from \"../../components/CustomButton\";\r\nimport Preloader from \"../../components/Preloader\";\r\nimport { useAsyncData } from \"../../hooks/useAsyncData\";\r\nimport { usePhotosContext } from \"../../hooks\";\r\nimport { fetchStatus } from \"../../utils/config\";\r\n\r\nimport \"./PhotoPage.scss\";\r\n\r\nconst PhotoPage = () => {\r\n  const { id } = useParams();\r\n  const { data, status } = useAsyncData(`/id/${id}/info`);\r\n  const { handleAddToFavorites } = usePhotosContext();\r\n\r\n  if (!data) {\r\n    return null;\r\n  }\r\n\r\n  const { download_url, author, width, height } = data;\r\n  const { pending, success, failed } = fetchStatus;\r\n\r\n  return (\r\n    <article className=\"photo-page\">\r\n      <div className=\"container\">\r\n        {status === pending && <Preloader />}\r\n        {status === success && (\r\n          <>\r\n            {download_url && (\r\n              <div className=\"photo-page__image-wrapper\">\r\n                <img className=\"photo-page__image\" src={download_url} alt=\"\" />\r\n              </div>\r\n            )}\r\n            <div className=\"photo-page__content\">\r\n              {author && <p className=\"photo-page__author\">Author: {author}</p>}\r\n              <div className=\"photo-page__size\">\r\n                {width && (\r\n                  <p className=\"photo-page__size-item\">Width: {width}</p>\r\n                )}\r\n                {height && (\r\n                  <p className=\"photo-page__size-item\">height: {height}</p>\r\n                )}\r\n              </div>\r\n              <CustomButton onClick={() => handleAddToFavorites(data)}>\r\n                Add to the favorites\r\n              </CustomButton>\r\n            </div>\r\n          </>\r\n        )}\r\n        {status === failed && <p>Something went wrong!</p>}\r\n      </div>\r\n    </article>\r\n  );\r\n};\r\n\r\nexport default PhotoPage;\r\n","import { Switch, Route, Redirect } from \"react-router-dom\";\r\nimport FavoritesPage from \"./pages/FavoritesPage\";\r\nimport HomePage from \"./pages/HomePage\";\r\nimport PhotoPage from \"./pages/PhotoPage\";\r\n\r\nexport const Routes = () => (\r\n  <Switch>\r\n    <Route path=\"/\" component={HomePage} exact />\r\n    <Route path=\"/photo/:id\" component={PhotoPage} exact />\r\n    <Route path=\"/favorites\" component={FavoritesPage} exact />\r\n    <Redirect to=\"/\" />\r\n  </Switch>\r\n);\r\n","import Header from \"./Header\";\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nimport \"./Header.scss\";\r\n\r\nconst Header = () => (\r\n  <header className=\"header\">\r\n    <div className=\"container\">\r\n      <nav className=\"header__navigation\">\r\n        <NavLink className=\"header__link\" to=\"/\" exact>\r\n          Home\r\n        </NavLink>\r\n        <NavLink className=\"header__link\" to=\"/favorites\" exact>\r\n          Favorites\r\n        </NavLink>\r\n      </nav>\r\n    </div>\r\n  </header>\r\n);\r\n\r\nexport default Header;\r\n","import React, { useCallback, useState } from \"react\";\r\nimport { useStorage, useAsyncData } from \"../hooks\";\r\nimport {\r\n  DEFAULT_LIMIT_PER_PAGE,\r\n  DEFAULT_PAGE,\r\n  paginationPage,\r\n  storageTypes,\r\n} from \"../utils/config\";\r\n\r\nimport PhotosContext from \"./photosContext\";\r\n\r\nconst PhotosState = ({ children }) => {\r\n  const [page, setPage] = useStorage({\r\n    initialValue: DEFAULT_PAGE,\r\n    storageType: storageTypes.session,\r\n    key: \"photos-app-page\",\r\n  });\r\n  const [favorites, setFavorites] = useStorage({\r\n    key: \"photos-app-favorites\",\r\n    initialValue: [],\r\n  });\r\n  const [limitPerPage, setLimitPerPage] = useState(DEFAULT_LIMIT_PER_PAGE);\r\n\r\n  const { data, status } = useAsyncData(\r\n    `/v2/list?page=${page}&limit=${limitPerPage}`\r\n  );\r\n\r\n  const handlePageChange = useCallback(\r\n    (operation) => () => {\r\n      switch (operation) {\r\n        case paginationPage.next: {\r\n          setPage((page) => page + 1);\r\n          break;\r\n        }\r\n        case paginationPage.previous: {\r\n          if (page > 1) {\r\n            setPage((page) => page - 1);\r\n          }\r\n          break;\r\n        }\r\n        case paginationPage.first: {\r\n          if (page !== 1) {\r\n            setPage(1);\r\n          }\r\n          break;\r\n        }\r\n        default: {\r\n          setPage(1);\r\n          break;\r\n        }\r\n      }\r\n    },\r\n    [page, setPage]\r\n  );\r\n\r\n  const handleAddToFavorites = useCallback(\r\n    (e, photoObj) => {\r\n      e.preventDefault();\r\n\r\n      const hasItem = favorites.find((item) => item.id === photoObj.id);\r\n\r\n      if (!hasItem) {\r\n        setFavorites([...favorites, photoObj]);\r\n      } else {\r\n        alert(\"The photo is already in the favorites!\");\r\n      }\r\n    },\r\n    [favorites, setFavorites]\r\n  );\r\n\r\n  const handleRemoveFromFavorites = useCallback(\r\n    (e, id) => {\r\n      e.preventDefault();\r\n\r\n      const updatedFavorites = favorites.filter((item) => item.id !== id);\r\n      setFavorites(updatedFavorites);\r\n    },\r\n    [favorites, setFavorites]\r\n  );\r\n\r\n  return (\r\n    <PhotosContext.Provider\r\n      value={{\r\n        handleAddToFavorites,\r\n        handleRemoveFromFavorites,\r\n        handlePageChange,\r\n        setLimitPerPage,\r\n        limitPerPage,\r\n        setPage,\r\n        page,\r\n        data,\r\n        status,\r\n        favorites,\r\n      }}\r\n    >\r\n      {children}\r\n    </PhotosContext.Provider>\r\n  );\r\n};\r\n\r\nexport default PhotosState;\r\n","import App from \"./App\";\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport { Routes } from \"../../routes\";\r\nimport Header from \"../Header\";\r\nimport PhotosState from \"../../context/PhotosState\";\r\n\r\nimport \"reset-css/reset.css\";\r\nimport \"./styles.scss\";\r\n\r\nconst App = () => (\r\n  <PhotosState>\r\n    <div className=\"App\">\r\n      <Header />\r\n      <Routes />\r\n    </div>\r\n  </PhotosState>\r\n);\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { HashRouter as Router } from \"react-router-dom\";\r\nimport App from \"./components/App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Router>\r\n      <App />\r\n    </Router>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}