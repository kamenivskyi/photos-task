{"version":3,"sources":["context/photosContext.js","utils/commonPropTypes.js","components/CustomButton/CustomButton.jsx","components/CustomButton/index.js","components/GalleryItem/index.js","components/GalleryItem/GalleryItem.jsx","components/Gallery/index.js","components/Gallery/Gallery.jsx","pages/FavoritesPage/index.js","pages/FavoritesPage/FavoritesPage.jsx","utils/config.js","components/Pagination/index.js","components/Pagination/Pagination.jsx","components/Filters/Filters.jsx","components/Preloader/index.js","components/Preloader/Preloader.jsx","pages/HomePage/index.js","pages/HomePage/HomePage.jsx","api/getData.js","hooks/useAsyncData.js","pages/PhotoPage/index.js","pages/PhotoPage/PhotoPage.jsx","routes.js","components/Header/index.js","components/Header/Header.jsx","context/PhotosState.js","hooks/useStorage.js","components/App/index.js","components/App/App.jsx","reportWebVitals.js","index.js"],"names":["photosContext","React","createContext","PropTypes","shape","id","string","author","download_url","url","height","number","width","CustomButton","children","type","className","variant","restProps","clsx","defaultProps","GalleryItem","item","history","useHistory","handleRemoveFromFavorites","useContext","isFavoritesPage","location","pathname","to","src","alt","label","onClick","e","Gallery","items","map","FavoritesPage","favorites","length","fetchStatus","paginationPage","storageTypes","Pagination","onPageChange","currentPage","status","first","next","previous","isFetching","disabled","Filters","page","limitPerPage","handlePageChange","setLimitPerPage","value","onChange","target","vaue","Preloader","HomePage","data","setPage","success","pending","failed","hasData","noData","loading","error","getData","a","fullUrl","fetch","res","ok","Error","json","useAsyncData","useState","setData","setStatus","useEffect","fetchData","PhotoPage","useParams","handleAddToFavorites","Routes","path","component","exact","Header","PhotosState","key","initialValue","storageType","window","getItem","JSON","parse","console","log","setItem","stringify","useStorage","setFavorites","Provider","photoObj","find","alert","preventDefault","updatedFavorites","filter","operation","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bc676065.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst photosContext = React.createContext();\r\n\r\nexport default photosContext;\r\n","import PropTypes from \"prop-types\";\n\nexport const galleryItemShape = PropTypes.shape({\n  id: PropTypes.string,\n  author: PropTypes.string,\n  download_url: PropTypes.string,\n  url: PropTypes.string,\n  height: PropTypes.number,\n  width: PropTypes.number,\n});\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport clsx from \"clsx\";\r\n\r\nimport \"./CustomButton.css\";\r\n\r\nconst CustomButton = ({ children, type, className, variant, ...restProps }) => {\r\n  return (\r\n    <button\r\n      type={type}\r\n      className={clsx(\r\n        \"custom-button\",\r\n        {\r\n          \"button-primary\": variant === \"primary\",\r\n          \"button-dark\": variant === \"dark\",\r\n        },\r\n        className\r\n      )}\r\n      {...restProps}\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nCustomButton.propTypes = {\r\n  children: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.number,\r\n    PropTypes.node,\r\n  ]),\r\n  type: PropTypes.string,\r\n};\r\n\r\nCustomButton.defaultProps = {\r\n  type: \"button\",\r\n  children: \"button\",\r\n  variant: \"dark\",\r\n};\r\n\r\nexport default CustomButton;\r\n","import CustomButton from \"./CustomButton\";\r\n\r\nexport default CustomButton;\r\n","import GalleryItem from \"./GalleryItem\";\r\n\r\nexport default GalleryItem;\r\n","import React, { useContext } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport photosContext from \"../../context/photosContext\";\n\nimport { galleryItemShape } from \"../../utils/commonPropTypes\";\nimport CustomButton from \"../CustomButton\";\n\nimport \"./GalleryItem.css\";\n\nconst GalleryItem = ({ item: { download_url, id } }) => {\n  const history = useHistory();\n  const { handleRemoveFromFavorites } = useContext(photosContext);\n  const isFavoritesPage = history.location.pathname === \"/favorites\";\n\n  return (\n    <article className=\"gallery__item\">\n      <Link to={`/photo/${id}`}>\n        <img className=\"gallery__image\" src={download_url} alt=\"\" />\n        {isFavoritesPage && (\n          <CustomButton\n            variant=\"primary\"\n            className=\"gallery__item-remove\"\n            label=\"get more details\"\n            onClick={(e) => handleRemoveFromFavorites(e, id)}\n          >\n            Remove\n          </CustomButton>\n        )}\n      </Link>\n    </article>\n  );\n};\n\nGalleryItem.propTypes = {\n  item: galleryItemShape,\n};\n\nexport default GalleryItem;\n","import Gallery from \"./Gallery\";\r\n\r\nexport default Gallery;\r\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport GalleryItem from \"../GalleryItem\";\nimport { galleryItemShape } from \"../../utils/commonPropTypes\";\nimport \"./Gallery.css\";\n\nconst Gallery = ({ items }) => {\n  return (\n    <article className=\"gallery\">\n      {items?.map((item) => (\n        <GalleryItem item={item} key={item.id} />\n      ))}\n    </article>\n  );\n};\n\nGallery.propTypes = {\n  items: PropTypes.arrayOf(galleryItemShape),\n};\n\nexport default Gallery;\n","import FavoritesPage from \"./FavoritesPage\";\r\n\r\nexport default FavoritesPage;\r\n","import React, { useContext } from \"react\";\nimport Gallery from \"../../components/Gallery\";\nimport photosContext from \"../../context/photosContext\";\n\nconst FavoritesPage = () => {\n  const { favorites } = useContext(photosContext);\n\n  return (\n    <section className=\"favorites-page\">\n      <div className=\"container\">\n        <h1 className=\"page-title\">Favorites photos</h1>\n        {favorites.length > 0 ? (\n          <Gallery items={favorites} />\n        ) : (\n          <p className=\"info-message\">There are no favorite photos yet</p>\n        )}\n      </div>\n    </section>\n  );\n};\n\nexport default FavoritesPage;\n","export const fetchStatus = {\r\n  success: \"success\",\r\n  failed: \"failed\",\r\n  pending: \"pending\",\r\n  initial: \"idle\",\r\n};\r\n\r\nexport const paginationPage = {\r\n  first: \"first\",\r\n  previous: \"previous\",\r\n  next: \"next\",\r\n};\r\n\r\nexport const storageTypes = {\r\n  local: \"localStorage\",\r\n  session: \"sessionStorage\",\r\n};\r\n","import Pagination from \"./Pagination\";\r\n\r\nexport default Pagination;\r\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport CustomButton from \"../CustomButton\";\nimport { fetchStatus, paginationPage } from \"../../utils/config\";\nimport \"./Pagination.css\";\n\nconst Pagination = ({ onPageChange, currentPage, status }) => {\n  const { first, next, previous } = paginationPage;\n  const isFetching = status === fetchStatus.pending;\n\n  return (\n    <div className=\"pagination\">\n      <div className=\"pagination__buttons\">\n        <CustomButton disabled={isFetching} onClick={onPageChange(first)}>\n          Back to first\n        </CustomButton>\n        <CustomButton disabled={isFetching} onClick={onPageChange(previous)}>\n          Previous\n        </CustomButton>\n        <span className=\"pagination__current-page\">Page: {currentPage}</span>\n        <CustomButton disabled={isFetching} onClick={onPageChange(next)}>\n          Next\n        </CustomButton>\n      </div>\n    </div>\n  );\n};\n\nPagination.propTypes = {\n  onPageChange: PropTypes.func,\n  status: PropTypes.string,\n  currentPage: PropTypes.number,\n};\n\nexport default Pagination;\n","import React, { useContext } from \"react\";\n\nimport photosContext from \"../../context/photosContext\";\nimport Pagination from \"../Pagination\";\n\nimport \"./Filters.css\";\n\nconst Filters = () => {\n  const {\n    page,\n    status,\n    limitPerPage,\n    handlePageChange,\n    setLimitPerPage,\n  } = useContext(photosContext);\n\n  return (\n    <div className=\"filters\">\n      <Pagination\n        onPageChange={handlePageChange}\n        currentPage={page}\n        status={status}\n      />\n      <label>\n        <span className=\"limit-text\">Limit of photos per page: </span>\n        <input\n          className=\"limit\"\n          type=\"number\"\n          value={limitPerPage}\n          onChange={(e) => setLimitPerPage(e.target.vaue)}\n        />\n      </label>\n    </div>\n  );\n};\n\nexport default Filters;\n","import Preloader from \"./Preloader\";\n\nexport default Preloader;\n","import React from \"react\";\n\nimport \"./Preloader.css\";\n\nconst Preloader = () => (\n  <div className=\"preloader-wrapper\">\n    <div className=\"preloader\"></div>\n  </div>\n);\n\nexport default Preloader;\n","import HomePage from \"./HomePage\";\r\n\r\nexport default HomePage;\r\n","import React, { useContext } from \"react\";\n\nimport CustomButton from \"../../components/CustomButton\";\nimport Filters from \"../../components/Filters/Filters\";\nimport Gallery from \"../../components/Gallery\";\nimport Preloader from \"../../components/Preloader\";\nimport photosContext from \"../../context/photosContext\";\nimport { fetchStatus } from \"../../utils/config\";\n\nconst HomePage = () => {\n  const { data, status, page, setPage } = useContext(photosContext);\n\n  const { success, pending, failed } = fetchStatus;\n  const hasData = data && data.length > 0;\n  const noData = status === success && data.length === 0;\n  const loading = status === pending;\n  const error = status === failed;\n\n  return (\n    <main>\n      <div className=\"container\">\n        <h1 className=\"page-title\">Home page</h1>\n        <Filters />\n        {hasData && <Gallery items={data} />}\n        {loading && <Preloader />}\n        {noData && (\n          <>\n            <p className=\"info-message\">Photos not found!</p>\n            {page !== 1 && (\n              <CustomButton onClick={() => setPage(1)}>\n                Back to the first page\n              </CustomButton>\n            )}\n          </>\n        )}\n        {error && <p>Error has gone</p>}\n      </div>\n    </main>\n  );\n};\n\nexport default HomePage;\n","const API_BASE = \"https://picsum.photos\";\r\n\r\nexport const getData = async (url) => {\r\n  const fullUrl = API_BASE + url;\r\n\r\n  const res = await fetch(fullUrl);\r\n\r\n  if (!res.ok) {\r\n    throw new Error(`Could not fetch the ${fullUrl}, received: ${res.status}`);\r\n  }\r\n  return await res.json();\r\n};\r\n","import { useEffect, useState } from \"react\";\r\nimport { getData } from \"../api/getData\";\r\nimport { fetchStatus } from \"../utils/config\";\r\n\r\nexport const useAsyncData = (url) => {\r\n  const [data, setData] = useState(null);\r\n  const [status, setStatus] = useState(fetchStatus.initial);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setStatus(fetchStatus.pending);\r\n        setData(null);\r\n        const data = await getData(url);\r\n        setData(data);\r\n        setStatus(fetchStatus.success);\r\n      } catch (error) {\r\n        setStatus(fetchStatus.failed);\r\n        setData(null);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [url]);\r\n\r\n  return { data, status };\r\n};\r\n","import PhotoPage from \"./PhotoPage\";\r\n\r\nexport default PhotoPage;\r\n","import React, { useContext } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport CustomButton from \"../../components/CustomButton\";\nimport Preloader from \"../../components/Preloader\";\nimport photosContext from \"../../context/photosContext\";\nimport { useAsyncData } from \"../../hooks/useAsyncData\";\nimport { fetchStatus } from \"../../utils/config\";\n\nimport \"./PhotoPage.css\";\n\nconst PhotoPage = () => {\n  const { id } = useParams();\n  const { data, status } = useAsyncData(`/id/${id}/info`);\n  const { handleAddToFavorites } = useContext(photosContext);\n\n  if (!data) {\n    return null;\n  }\n\n  const { download_url, author, width, height } = data;\n  const { pending, success, failed } = fetchStatus;\n\n  return (\n    <article className=\"photo-page\">\n      <div className=\"container\">\n        {status === pending && <Preloader />}\n        {status === success && (\n          <>\n            {download_url && (\n              <div className=\"photo-page__image-wrapper\">\n                <img className=\"photo-page__image\" src={download_url} alt=\"\" />\n              </div>\n            )}\n            <div className=\"photo-page__content\">\n              {author && <p className=\"photo-page__author\">Author: {author}</p>}\n              <div className=\"photo-page__size\">\n                {width && (\n                  <p className=\"photo-page__size-item\">Width: {width}</p>\n                )}\n                {height && (\n                  <p className=\"photo-page__size-item\">height: {height}</p>\n                )}\n              </div>\n              <CustomButton onClick={() => handleAddToFavorites(data)}>\n                Add to the favorites\n              </CustomButton>\n            </div>\n          </>\n        )}\n        {status === failed && <p>Something went wrong!</p>}\n      </div>\n    </article>\n  );\n};\n\nexport default PhotoPage;\n","import { Switch, Route } from \"react-router-dom\";\r\nimport FavoritesPage from \"./pages/FavoritesPage\";\r\nimport HomePage from \"./pages/HomePage\";\r\nimport PhotoPage from \"./pages/PhotoPage\";\r\n\r\nexport const Routes = () => (\r\n  <Switch>\r\n    <Route path=\"/\" component={HomePage} exact />\r\n    <Route path=\"/photo/:id\" component={PhotoPage} exact />\r\n    <Route path=\"/favorites\" component={FavoritesPage} />\r\n  </Switch>\r\n);\r\n","import Header from \"./Header\";\r\n\r\nexport default Header;\r\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nimport \"./Header.css\";\n\nconst Header = () => (\n  <header className=\"header\">\n    <div className=\"container\">\n      <nav className=\"header__navigation\">\n        <NavLink className=\"header__link\" to=\"/\">\n          Home\n        </NavLink>\n        <NavLink className=\"header__link\" to=\"/favorites\">\n          Favorites\n        </NavLink>\n      </nav>\n    </div>\n  </header>\n);\n\nexport default Header;\n","import React, { useState } from \"react\";\nimport { useStorage, useAsyncData } from \"../hooks\";\nimport { paginationPage } from \"../utils/config\";\n\nimport PhotosContext from \"./photosContext\";\n\nconst PhotosState = ({ children }) => {\n  const [page, setPage] = useState(1);\n  const [limitPerPage, setLimitPerPage] = useState(6);\n  const { data, status } = useAsyncData(\n    `/v2/list?page=${page}&limit=${limitPerPage}`\n  );\n  const [favorites, setFavorites] = useStorage({\n    key: \"photos-app-favorites\",\n    initialValue: [],\n  });\n\n  const handlePageChange = (operation) => () => {\n    switch (operation) {\n      case paginationPage.next: {\n        setPage((page) => page + 1);\n        break;\n      }\n      case paginationPage.previous: {\n        if (page > 1) {\n          setPage((page) => page - 1);\n        }\n        break;\n      }\n      case paginationPage.first: {\n        if (page !== 1) {\n          setPage(1);\n        }\n        break;\n      }\n      default: {\n        setPage(1);\n        break;\n      }\n    }\n  };\n\n  const handleAddToFavorites = (photoObj) => {\n    const hasItem = favorites.find((item) => item.id === photoObj.id);\n\n    if (!hasItem) {\n      setFavorites([...favorites, photoObj]);\n    } else {\n      alert(\"The photo is already in the favorites!\");\n    }\n  };\n\n  const handleRemoveFromFavorites = (e, id) => {\n    e.preventDefault();\n\n    const updatedFavorites = favorites.filter((item) => item.id !== id);\n    setFavorites(updatedFavorites);\n  };\n\n  return (\n    <PhotosContext.Provider\n      value={{\n        handleAddToFavorites,\n        handleRemoveFromFavorites,\n        handlePageChange,\n        setLimitPerPage,\n        limitPerPage,\n        page,\n        data,\n        status,\n        favorites,\n      }}\n    >\n      {children}\n    </PhotosContext.Provider>\n  );\n};\n\nexport default PhotosState;\n","import { useState, useEffect } from \"react\";\r\n\r\nimport { storageTypes } from \"../utils/config\";\r\n\r\nexport const useStorage = ({\r\n  key,\r\n  initialValue,\r\n  storageType = storageTypes.local,\r\n}) => {\r\n  const [data, setData] = useState(() => {\r\n    try {\r\n      const item = window[storageType].getItem(key);\r\n\r\n      return item ? JSON.parse(item) : initialValue;\r\n    } catch (error) {\r\n      console.log(\"useLocalStorage error: \", error);\r\n      return initialValue;\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    const item = window[storageType].getItem(key);\r\n\r\n    if (item) {\r\n      setData(JSON.parse(item));\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    window[storageType].setItem(key, JSON.stringify(data));\r\n  }, [data]);\r\n\r\n  return [data, setData];\r\n};\r\n","import App from \"./App\";\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport { Routes } from \"../../routes\";\r\nimport Header from \"../Header\";\r\nimport PhotosState from \"../../context/PhotosState\";\r\n\r\nimport \"reset-css/reset.css\";\r\nimport \"./styles.css\";\r\n\r\nconst App = () => (\r\n  <PhotosState>\r\n    <div className=\"App\">\r\n      <Header />\r\n      <Routes />\r\n    </div>\r\n  </PhotosState>\r\n);\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter as Router } from \"react-router-dom\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}