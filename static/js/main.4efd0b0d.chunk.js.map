{"version":3,"sources":["api/getData.js","utils/config.js","hooks/useAsyncData.js","context/photosContext.js","hooks/usePhotosContext.js","utils/commonPropTypes.js","components/CustomButton/CustomButton.jsx","components/CustomButton/index.js","components/GalleryItem/index.js","components/GalleryItem/GalleryItem.jsx","components/Gallery/index.js","components/Gallery/Gallery.jsx","pages/FavoritesPage/index.js","pages/FavoritesPage/FavoritesPage.jsx","components/Pagination/Pagination.jsx","components/Pagination/index.js","components/Filters/Filters.jsx","components/Preloader/index.js","components/Preloader/Preloader.jsx","pages/HomePage/index.js","pages/HomePage/HomePage.jsx","pages/PhotoPage/index.js","pages/PhotoPage/PhotoPage.jsx","routes.js","components/Header/index.js","components/Header/Header.jsx","context/PhotosState.js","hooks/useStorage.js","components/App/index.js","components/App/App.jsx","reportWebVitals.js","index.js"],"names":["getData","url","a","fullUrl","fetch","res","ok","Error","status","json","fetchStatus","paginationPage","storageTypes","useAsyncData","useState","data","setData","setStatus","fetchData","useCallback","useEffect","photosContext","React","createContext","usePhotosContext","useContext","PropTypes","shape","id","string","author","download_url","height","number","width","CustomButton","children","type","className","variant","restProps","clsx","defaultProps","GalleryItem","item","history","useHistory","handleRemoveFromFavorites","isFavoritesPage","location","pathname","to","src","alt","label","onClick","e","Gallery","items","map","FavoritesPage","favorites","length","Pagination","onPageChange","currentPage","first","next","previous","isFetching","useMemo","disabled","memo","Filters","page","handlePageChange","setLimitPerPage","debounced","useDebouncedCallback","value","defaultValue","onChange","callback","target","Preloader","HomePage","setPage","success","pending","failed","hasData","noData","loading","error","PhotoPage","useParams","handleAddToFavorites","Routes","path","component","exact","Header","PhotosState","limitPerPage","key","initialValue","storageType","window","getItem","JSON","parse","console","log","setItem","stringify","useStorage","setFavorites","operation","photoObj","find","alert","preventDefault","updatedFavorites","filter","Provider","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"uaAEaA,EAAO,uCAAG,WAAOC,GAAP,iBAAAC,EAAA,6DACfC,EAHS,wBAGYF,EADN,SAGHG,MAAMD,GAHH,WAGfE,EAHe,QAKZC,GALY,sBAMb,IAAIC,MAAJ,8BAAiCJ,EAAjC,uBAAuDE,EAAIG,SAN9C,uBAQRH,EAAII,OARI,mFAAH,sDCFPC,EACF,UADEA,EAEH,SAFGA,EAGF,UAHEA,EAIF,OAGEC,EACJ,QADIA,EAED,WAFCA,EAGL,OAGKC,EACJ,eCVIC,EAAe,SAACZ,GAAS,IAAD,EACXa,mBAAS,MADE,mBAC5BC,EAD4B,KACtBC,EADsB,OAEPF,mBAASJ,GAFF,mBAE5BF,EAF4B,KAEpBS,EAFoB,KAI7BC,EAAYC,sBAAW,sBAAC,4BAAAjB,EAAA,sEAE1Be,EAAUP,GACVM,EAAQ,MAHkB,SAKPhB,EAAQC,GALD,OAKpBc,EALoB,OAO1BC,EAAQD,GACRE,EAAUP,GARgB,kDAU1BO,EAAUP,GACVM,EAAQ,MAXkB,0DAa3B,CAACf,IAMJ,OAJAmB,qBAAU,WACRF,MACC,CAACjB,EAAKiB,IAEF,CAAEH,OAAMP,WCvBFa,EAFOC,IAAMC,gBCCfC,EAAmB,kBAAMC,qBAAWJ,I,mBCDjBK,IAAUC,MAAM,CAC9CC,GAAIF,IAAUG,OACdC,OAAQJ,IAAUG,OAClBE,aAAcL,IAAUG,OACxB5B,IAAKyB,IAAUG,OACfG,OAAQN,IAAUO,OAClBC,MAAOR,IAAUO,S,uBCFbE,G,MAAe,SAAC,GAA0D,IAAxDC,EAAuD,EAAvDA,SAAUC,EAA6C,EAA7CA,KAAMC,EAAuC,EAAvCA,UAAWC,EAA4B,EAA5BA,QAAYC,EAAgB,yDAC7E,OACE,gDACEH,KAAMA,EACNC,UAAWG,YACT,gBACA,CACE,iBAA8B,YAAZF,EAClB,cAA2B,SAAZA,GAEjBD,IAEEE,GAVN,aAYGJ,OAcPD,EAAaO,aAAe,CAC1BL,KAAM,SACND,SAAU,SACVG,QAAS,QAGIJ,ICtCAA,EDsCAA,EEtCAQ,G,MCOK,SAAC,GAAoC,IAAD,IAAjCC,KAAQb,EAAyB,EAAzBA,aAAcH,EAAW,EAAXA,GACrCiB,EAAUC,cACRC,EAA8BvB,IAA9BuB,0BACFC,EAAgD,eAA9BH,EAAQI,SAASC,SAEzC,OACE,yBAASZ,UAAU,gBAAnB,SACE,eAAC,IAAD,CAAMa,GAAE,iBAAYvB,GAApB,UACE,qBAAKU,UAAU,iBAAiBc,IAAKrB,EAAcsB,IAAI,KACtDL,GACC,cAAC,EAAD,CACET,QAAQ,UACRD,UAAU,wBACVgB,MAAM,mBACNC,QAAS,SAACC,GAAD,OAAOT,EAA0BS,EAAG5B,IAJ/C,2BCjBK6B,G,MCKC,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAH,OACd,yBAASpB,UAAU,UAAnB,gBACGoB,QADH,IACGA,OADH,EACGA,EAAOC,KAAI,SAACf,GAAD,OACV,cAAC,EAAD,CAAaA,KAAMA,GAAWA,EAAKhB,WCR1BgC,ECEO,WAAO,IACnBC,EAAcrC,IAAdqC,UAER,OACE,yBAASvB,UAAU,iBAAnB,SACE,sBAAKA,UAAU,YAAf,UACE,oBAAIA,UAAU,aAAd,8BACCuB,EAAUC,OAAS,EAClB,cAAC,EAAD,CAASJ,MAAOG,IAEhB,mBAAGvB,UAAU,eAAb,oD,QCPJyB,G,MAAa,SAAC,GAA2C,IAAzCC,EAAwC,EAAxCA,aAAcC,EAA0B,EAA1BA,YAAazD,EAAa,EAAbA,OACvC0D,EAA0BvD,EAAnBwD,EAAmBxD,EAAbyD,EAAazD,EAC5B0D,EAAaC,mBAAQ,kBAAM9D,IAAWE,IAAqB,CAACF,IAElE,OACE,qBAAK8B,UAAU,aAAf,SACE,sBAAKA,UAAU,sBAAf,UACE,cAAC,EAAD,CAAciC,SAAUF,EAAYd,QAASS,EAAaE,GAA1D,2BAGA,cAAC,EAAD,CAAcK,SAAUF,EAAYd,QAASS,EAAaI,GAA1D,sBAGA,uBAAM9B,UAAU,2BAAhB,mBAAkD2B,KAClD,cAAC,EAAD,CAAcM,SAAUF,EAAYd,QAASS,EAAaG,GAA1D,yBCnBOJ,EDiCAzC,IAAMkD,KAAKT,GEMXU,G,MAhCC,WAAO,IAAD,EAMhBjD,IAJFkD,EAFkB,EAElBA,KACAlE,EAHkB,EAGlBA,OACAmE,EAJkB,EAIlBA,iBACAC,EALkB,EAKlBA,gBAGIC,EAAYC,aAAqB,SAACC,GACtCH,EAAgBG,KACf,KAEH,OACE,sBAAKzC,UAAU,UAAf,UACE,cAAC,EAAD,CACE0B,aAAcW,EACdV,YAAaS,EACblE,OAAQA,IAEV,kCACE,sBAAM8B,UAAU,aAAhB,wCACA,uBACEA,UAAU,QACVD,KAAK,SACL2C,afd4B,Eee5BC,SAAU,SAACzB,GAAD,OAAOqB,EAAUK,SAAS1B,EAAE2B,OAAOJ,kBChCxCK,G,MCEG,kBAChB,qBAAK9C,UAAU,YAAf,SACE,qBAAKA,UAAU,yBCJJ+C,ECQE,WAAO,IAAD,EACmB7D,IAAhCT,EADa,EACbA,KAAMP,EADO,EACPA,OAAQkE,EADD,EACCA,KAAMY,EADP,EACOA,QAEpBC,EAA6B7E,EAApB8E,EAAoB9E,EAAX+E,EAAW/E,EAC/BgF,EAAU3E,GAAQA,EAAK+C,OAAS,EAChC6B,EAASnF,IAAW+E,GAA2B,IAAhBxE,EAAK+C,OACpC8B,EAAUpF,IAAWgF,EACrBK,EAAQrF,IAAWiF,EAEzB,OACE,+BACE,sBAAKnD,UAAU,YAAf,UACE,oBAAIA,UAAU,aAAd,uBACA,cAAC,EAAD,IACCoD,GAAW,cAAC,EAAD,CAAShC,MAAO3C,IAC3B6E,GAAW,cAAC,EAAD,IACXD,GACC,qCACE,mBAAGrD,UAAU,eAAb,+BACU,IAAToC,GACC,cAAC,EAAD,CAAcnB,QAAS,kBAAM+B,EnBZf,ImBYd,uCAMLO,GAAS,qDClCHC,G,MCSG,WAAO,IACflE,EAAOmE,cAAPnE,GADc,EAEGf,EAAa,OAAD,OAAQe,EAAR,UAA7Bb,EAFc,EAEdA,KAAMP,EAFQ,EAERA,OACNwF,EAAyBxE,IAAzBwE,qBAER,IAAKjF,EACH,OAAO,KANa,IASdgB,EAAwChB,EAAxCgB,aAAcD,EAA0Bf,EAA1Be,OAAQI,EAAkBnB,EAAlBmB,MAAOF,EAAWjB,EAAXiB,OAC7BwD,EAA6B9E,EAApB6E,EAAoB7E,EAAX+E,EAAW/E,EAErC,OACE,yBAAS4B,UAAU,aAAnB,SACE,sBAAKA,UAAU,YAAf,UACG9B,IAAWgF,GAAW,cAAC,EAAD,IACtBhF,IAAW+E,GACV,qCACGxD,GACC,qBAAKO,UAAU,4BAAf,SACE,qBAAKA,UAAU,oBAAoBc,IAAKrB,EAAcsB,IAAI,OAG9D,sBAAKf,UAAU,sBAAf,UACGR,GAAU,oBAAGQ,UAAU,qBAAb,qBAA2CR,KACtD,sBAAKQ,UAAU,mBAAf,UACGJ,GACC,oBAAGI,UAAU,wBAAb,oBAA6CJ,KAE9CF,GACC,oBAAGM,UAAU,wBAAb,qBAA8CN,QAGlD,cAAC,EAAD,CAAcuB,QAAS,kBAAMyC,EAAqBjF,IAAlD,wCAMLP,IAAWiF,GAAU,6DC7CjBQ,EAAS,kBACpB,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,IAAIC,UAAWd,EAAUe,OAAK,IAC1C,cAAC,IAAD,CAAOF,KAAK,aAAaC,UAAWL,EAAWM,OAAK,IACpD,cAAC,IAAD,CAAOF,KAAK,aAAaC,UAAWvC,EAAewC,OAAK,IACxD,cAAC,IAAD,CAAUjD,GAAG,UCRFkD,G,MCGA,kBACb,wBAAQ/D,UAAU,SAAlB,SACE,qBAAKA,UAAU,YAAf,SACE,sBAAKA,UAAU,qBAAf,UACE,cAAC,IAAD,CAASA,UAAU,eAAea,GAAG,IAAIiD,OAAK,EAA9C,kBAGA,cAAC,IAAD,CAAS9D,UAAU,eAAea,GAAG,aAAaiD,OAAK,EAAvD,gC,QC+EOE,EAjFK,SAAC,GAAkB,IAAhBlE,EAAe,EAAfA,SAAe,EACZtB,mBzBOE,GyBRU,mBAC7B4D,EAD6B,KACvBY,EADuB,OAEIxE,mBzBOJ,GyBTA,mBAE7ByF,EAF6B,KAEf3B,EAFe,OAGX/D,EAAa,iBAAD,OAClB6D,EADkB,kBACJ6B,IADzBxF,EAH4B,EAG5BA,KAAMP,EAHsB,EAGtBA,OAHsB,ECNZ,SAAC,GAIpB,IAHLgG,EAGI,EAHJA,IACAC,EAEI,EAFJA,aAEI,IADJC,mBACI,MADU9F,EACV,IACoBE,oBAAS,WAC/B,IACE,IAAM8B,EAAO+D,OAAOD,GAAaE,QAAQJ,GAEzC,OAAO5D,EAAOiE,KAAKC,MAAMlE,GAAQ6D,EACjC,MAAOZ,GAEP,OADAkB,QAAQC,IAAI,0BAA2BnB,GAChCY,MARP,mBACG1F,EADH,KACSC,EADT,KAwBJ,OAZAI,qBAAU,WACR,IAAMwB,EAAO+D,OAAOD,GAAaE,QAAQJ,GAErC5D,GACF5B,EAAQ6F,KAAKC,MAAMlE,MAEpB,IAEHxB,qBAAU,WACRuF,OAAOD,GAAaO,QAAQT,EAAKK,KAAKK,UAAUnG,MAC/C,CAACA,IAEG,CAACA,EAAMC,GDhBoBmG,CAAW,CAC3CX,IAAK,uBACLC,aAAc,KARoB,mBAM7B5C,EAN6B,KAMlBuD,EANkB,KAW9BzC,EAAmBxD,uBACvB,SAACkG,GAAD,OAAe,WACb,OAAQA,GACN,KAAK1G,EACH2E,GAAQ,SAACZ,GAAD,OAAUA,EAAO,KACzB,MAEF,KAAK/D,EACC+D,EAAO,GACTY,GAAQ,SAACZ,GAAD,OAAUA,EAAO,KAE3B,MAEF,KAAK/D,EACU,IAAT+D,GACFY,EAAQ,GAEV,MAEF,QACEA,EAAQ,OAKd,CAACZ,IAGGsB,EAAuB7E,uBAC3B,SAACmG,GACiBzD,EAAU0D,MAAK,SAAC3E,GAAD,OAAUA,EAAKhB,KAAO0F,EAAS1F,MAK5D4F,MAAM,0CAFNJ,EAAa,GAAD,mBAAKvD,GAAL,CAAgByD,OAKhC,CAACzD,EAAWuD,IAGRrE,EAA4B5B,uBAChC,SAACqC,EAAG5B,GACF4B,EAAEiE,iBAEF,IAAMC,EAAmB7D,EAAU8D,QAAO,SAAC/E,GAAD,OAAUA,EAAKhB,KAAOA,KAChEwF,EAAaM,KAEf,CAAC7D,EAAWuD,IAGd,OACE,cAAC,EAAcQ,SAAf,CACE7C,MAAO,CACLiB,uBACAjD,4BACA4B,mBACAC,kBACA2B,eACA7B,OACA3D,OACAP,SACAqD,aAVJ,SAaGzB,KEpFQyF,G,YCMH,kBACV,cAAC,EAAD,UACE,sBAAKvF,UAAU,MAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,WCASwF,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.4efd0b0d.chunk.js","sourcesContent":["const API_BASE = \"https://picsum.photos\";\r\n\r\nexport const getData = async (url) => {\r\n  const fullUrl = API_BASE + url;\r\n\r\n  const res = await fetch(fullUrl);\r\n\r\n  if (!res.ok) {\r\n    throw new Error(`Could not fetch the ${fullUrl}, received: ${res.status}`);\r\n  }\r\n  return await res.json();\r\n};\r\n","export const fetchStatus = {\n  success: \"success\",\n  failed: \"failed\",\n  pending: \"pending\",\n  initial: \"idle\",\n};\n\nexport const paginationPage = {\n  first: \"first\",\n  previous: \"previous\",\n  next: \"next\",\n};\n\nexport const storageTypes = {\n  local: \"localStorage\",\n  session: \"sessionStorage\",\n};\n\nexport const DEFAULT_PAGE = 1;\nexport const DEFAULT_LIMIT_PER_PAGE = 6;\n","import { useCallback, useEffect, useState } from \"react\";\nimport { getData } from \"../api/getData\";\nimport { fetchStatus } from \"../utils/config\";\n\nexport const useAsyncData = (url) => {\n  const [data, setData] = useState(null);\n  const [status, setStatus] = useState(fetchStatus.initial);\n\n  const fetchData = useCallback(async () => {\n    try {\n      setStatus(fetchStatus.pending);\n      setData(null);\n\n      const data = await getData(url);\n\n      setData(data);\n      setStatus(fetchStatus.success);\n    } catch (error) {\n      setStatus(fetchStatus.failed);\n      setData(null);\n    }\n  }, [url]);\n\n  useEffect(() => {\n    fetchData();\n  }, [url, fetchData]);\n\n  return { data, status };\n};\n","import React from \"react\";\r\n\r\nconst photosContext = React.createContext();\r\n\r\nexport default photosContext;\r\n","import { useContext } from \"react\";\nimport photosContext from \"../context/photosContext\";\n\nexport const usePhotosContext = () => useContext(photosContext);\n","import PropTypes from \"prop-types\";\n\nexport const galleryItemShape = PropTypes.shape({\n  id: PropTypes.string,\n  author: PropTypes.string,\n  download_url: PropTypes.string,\n  url: PropTypes.string,\n  height: PropTypes.number,\n  width: PropTypes.number,\n});\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport clsx from \"clsx\";\r\n\r\nimport \"./CustomButton.scss\";\r\n\r\nconst CustomButton = ({ children, type, className, variant, ...restProps }) => {\r\n  return (\r\n    <button\r\n      type={type}\r\n      className={clsx(\r\n        \"custom-button\",\r\n        {\r\n          \"button-primary\": variant === \"primary\",\r\n          \"button-dark\": variant === \"dark\",\r\n        },\r\n        className\r\n      )}\r\n      {...restProps}\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nCustomButton.propTypes = {\r\n  children: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.number,\r\n    PropTypes.node,\r\n  ]),\r\n  type: PropTypes.string,\r\n};\r\n\r\nCustomButton.defaultProps = {\r\n  type: \"button\",\r\n  children: \"button\",\r\n  variant: \"dark\",\r\n};\r\n\r\nexport default CustomButton;\r\n","import CustomButton from \"./CustomButton\";\r\n\r\nexport default CustomButton;\r\n","import GalleryItem from \"./GalleryItem\";\r\n\r\nexport default GalleryItem;\r\n","import React from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { usePhotosContext } from \"../../hooks\";\n\nimport { galleryItemShape } from \"../../utils/commonPropTypes\";\nimport CustomButton from \"../CustomButton\";\n\nimport \"./GalleryItem.scss\";\n\nconst GalleryItem = ({ item: { download_url, id } }) => {\n  const history = useHistory();\n  const { handleRemoveFromFavorites } = usePhotosContext();\n  const isFavoritesPage = history.location.pathname === \"/favorites\";\n\n  return (\n    <article className=\"gallery__item\">\n      <Link to={`/photo/${id}`}>\n        <img className=\"gallery__image\" src={download_url} alt=\"\" />\n        {isFavoritesPage && (\n          <CustomButton\n            variant=\"primary\"\n            className=\"gallery__item--remove\"\n            label=\"get more details\"\n            onClick={(e) => handleRemoveFromFavorites(e, id)}\n          >\n            Remove\n          </CustomButton>\n        )}\n      </Link>\n    </article>\n  );\n};\n\nGalleryItem.propTypes = {\n  item: galleryItemShape,\n};\n\nexport default GalleryItem;\n","import Gallery from \"./Gallery\";\r\n\r\nexport default Gallery;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport GalleryItem from \"../GalleryItem\";\r\nimport { galleryItemShape } from \"../../utils/commonPropTypes\";\r\nimport \"./Gallery.scss\";\r\n\r\nconst Gallery = ({ items }) => (\r\n  <article className=\"gallery\">\r\n    {items?.map((item) => (\r\n      <GalleryItem item={item} key={item.id} />\r\n    ))}\r\n  </article>\r\n);\r\n\r\nGallery.propTypes = {\r\n  items: PropTypes.arrayOf(galleryItemShape),\r\n};\r\n\r\nexport default Gallery;\r\n","import FavoritesPage from \"./FavoritesPage\";\r\n\r\nexport default FavoritesPage;\r\n","import React from \"react\";\nimport Gallery from \"../../components/Gallery\";\nimport { usePhotosContext } from \"../../hooks\";\n\nconst FavoritesPage = () => {\n  const { favorites } = usePhotosContext();\n\n  return (\n    <section className=\"favorites-page\">\n      <div className=\"container\">\n        <h1 className=\"page-title\">Favorites photos</h1>\n        {favorites.length > 0 ? (\n          <Gallery items={favorites} />\n        ) : (\n          <p className=\"info-message\">There are no favorite photos yet</p>\n        )}\n      </div>\n    </section>\n  );\n};\n\nexport default FavoritesPage;\n","import React, { useMemo } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport CustomButton from \"../CustomButton\";\nimport { fetchStatus, paginationPage } from \"../../utils/config\";\nimport \"./Pagination.scss\";\n\nconst Pagination = ({ onPageChange, currentPage, status }) => {\n  const { first, next, previous } = paginationPage;\n  const isFetching = useMemo(() => status === fetchStatus.pending, [status]);\n\n  return (\n    <div className=\"pagination\">\n      <div className=\"pagination__buttons\">\n        <CustomButton disabled={isFetching} onClick={onPageChange(first)}>\n          Back to first\n        </CustomButton>\n        <CustomButton disabled={isFetching} onClick={onPageChange(previous)}>\n          Previous\n        </CustomButton>\n        <span className=\"pagination__current-page\">Page: {currentPage}</span>\n        <CustomButton disabled={isFetching} onClick={onPageChange(next)}>\n          Next\n        </CustomButton>\n      </div>\n    </div>\n  );\n};\n\nPagination.propTypes = {\n  onPageChange: PropTypes.func,\n  status: PropTypes.string,\n  currentPage: PropTypes.number,\n};\n\nexport default React.memo(Pagination);\n","import Pagination from \"./Pagination\";\r\n\r\nexport default Pagination;\r\n","import React from \"react\";\nimport { useDebouncedCallback } from \"use-debounce\";\n\nimport Pagination from \"../Pagination\";\nimport { usePhotosContext } from \"../../hooks\";\nimport { DEFAULT_LIMIT_PER_PAGE } from \"../../utils/config\";\n\nimport \"./Filters.scss\";\n\nconst Filters = () => {\n  const {\n    page,\n    status,\n    handlePageChange,\n    setLimitPerPage,\n  } = usePhotosContext();\n\n  const debounced = useDebouncedCallback((value) => {\n    setLimitPerPage(value);\n  }, 2000);\n\n  return (\n    <div className=\"filters\">\n      <Pagination\n        onPageChange={handlePageChange}\n        currentPage={page}\n        status={status}\n      />\n      <label>\n        <span className=\"limit-text\">Limit of photos per page: </span>\n        <input\n          className=\"limit\"\n          type=\"number\"\n          defaultValue={DEFAULT_LIMIT_PER_PAGE}\n          onChange={(e) => debounced.callback(e.target.value)}\n        />\n      </label>\n    </div>\n  );\n};\n\nexport default Filters;\n","import Preloader from \"./Preloader\";\n\nexport default Preloader;\n","import React from \"react\";\r\n\r\nimport \"./Preloader.scss\";\r\n\r\nconst Preloader = () => (\r\n  <div className=\"preloader\">\r\n    <div className=\"preloader__inner\"></div>\r\n  </div>\r\n);\r\n\r\nexport default Preloader;\r\n","import HomePage from \"./HomePage\";\r\n\r\nexport default HomePage;\r\n","import React from \"react\";\n\nimport CustomButton from \"../../components/CustomButton\";\nimport Filters from \"../../components/Filters/Filters\";\nimport Gallery from \"../../components/Gallery\";\nimport Preloader from \"../../components/Preloader\";\nimport { usePhotosContext } from \"../../hooks\";\n\nimport { DEFAULT_PAGE, fetchStatus } from \"../../utils/config\";\n\nconst HomePage = () => {\n  const { data, status, page, setPage } = usePhotosContext();\n\n  const { success, pending, failed } = fetchStatus;\n  const hasData = data && data.length > 0;\n  const noData = status === success && data.length === 0;\n  const loading = status === pending;\n  const error = status === failed;\n\n  return (\n    <main>\n      <div className=\"container\">\n        <h1 className=\"page-title\">Home page</h1>\n        <Filters />\n        {hasData && <Gallery items={data} />}\n        {loading && <Preloader />}\n        {noData && (\n          <>\n            <p className=\"info-message\">Photos not found!</p>\n            {page !== 1 && (\n              <CustomButton onClick={() => setPage(DEFAULT_PAGE)}>\n                Back to the first page\n              </CustomButton>\n            )}\n          </>\n        )}\n        {error && <p>Error has gone</p>}\n      </div>\n    </main>\n  );\n};\n\nexport default HomePage;\n","import PhotoPage from \"./PhotoPage\";\r\n\r\nexport default PhotoPage;\r\n","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport CustomButton from \"../../components/CustomButton\";\nimport Preloader from \"../../components/Preloader\";\nimport { useAsyncData } from \"../../hooks/useAsyncData\";\nimport { usePhotosContext } from \"../../hooks\";\nimport { fetchStatus } from \"../../utils/config\";\n\nimport \"./PhotoPage.scss\";\n\nconst PhotoPage = () => {\n  const { id } = useParams();\n  const { data, status } = useAsyncData(`/id/${id}/info`);\n  const { handleAddToFavorites } = usePhotosContext();\n\n  if (!data) {\n    return null;\n  }\n\n  const { download_url, author, width, height } = data;\n  const { pending, success, failed } = fetchStatus;\n\n  return (\n    <article className=\"photo-page\">\n      <div className=\"container\">\n        {status === pending && <Preloader />}\n        {status === success && (\n          <>\n            {download_url && (\n              <div className=\"photo-page__image-wrapper\">\n                <img className=\"photo-page__image\" src={download_url} alt=\"\" />\n              </div>\n            )}\n            <div className=\"photo-page__content\">\n              {author && <p className=\"photo-page__author\">Author: {author}</p>}\n              <div className=\"photo-page__size\">\n                {width && (\n                  <p className=\"photo-page__size-item\">Width: {width}</p>\n                )}\n                {height && (\n                  <p className=\"photo-page__size-item\">height: {height}</p>\n                )}\n              </div>\n              <CustomButton onClick={() => handleAddToFavorites(data)}>\n                Add to the favorites\n              </CustomButton>\n            </div>\n          </>\n        )}\n        {status === failed && <p>Something went wrong!</p>}\n      </div>\n    </article>\n  );\n};\n\nexport default PhotoPage;\n","import { Switch, Route, Redirect } from \"react-router-dom\";\nimport FavoritesPage from \"./pages/FavoritesPage\";\nimport HomePage from \"./pages/HomePage\";\nimport PhotoPage from \"./pages/PhotoPage\";\n\nexport const Routes = () => (\n  <Switch>\n    <Route path=\"/\" component={HomePage} exact />\n    <Route path=\"/photo/:id\" component={PhotoPage} exact />\n    <Route path=\"/favorites\" component={FavoritesPage} exact />\n    <Redirect to=\"/\" />\n  </Switch>\n);\n","import Header from \"./Header\";\r\n\r\nexport default Header;\r\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nimport \"./Header.scss\";\n\nconst Header = () => (\n  <header className=\"header\">\n    <div className=\"container\">\n      <nav className=\"header__navigation\">\n        <NavLink className=\"header__link\" to=\"/\" exact>\n          Home\n        </NavLink>\n        <NavLink className=\"header__link\" to=\"/favorites\" exact>\n          Favorites\n        </NavLink>\n      </nav>\n    </div>\n  </header>\n);\n\nexport default Header;\n","import React, { useCallback, useState } from \"react\";\nimport { useStorage, useAsyncData } from \"../hooks\";\nimport {\n  DEFAULT_LIMIT_PER_PAGE,\n  DEFAULT_PAGE,\n  paginationPage,\n} from \"../utils/config\";\n\nimport PhotosContext from \"./photosContext\";\n\nconst PhotosState = ({ children }) => {\n  const [page, setPage] = useState(DEFAULT_PAGE);\n  const [limitPerPage, setLimitPerPage] = useState(DEFAULT_LIMIT_PER_PAGE);\n  const { data, status } = useAsyncData(\n    `/v2/list?page=${page}&limit=${limitPerPage}`\n  );\n  const [favorites, setFavorites] = useStorage({\n    key: \"photos-app-favorites\",\n    initialValue: [],\n  });\n\n  const handlePageChange = useCallback(\n    (operation) => () => {\n      switch (operation) {\n        case paginationPage.next: {\n          setPage((page) => page + 1);\n          break;\n        }\n        case paginationPage.previous: {\n          if (page > 1) {\n            setPage((page) => page - 1);\n          }\n          break;\n        }\n        case paginationPage.first: {\n          if (page !== 1) {\n            setPage(1);\n          }\n          break;\n        }\n        default: {\n          setPage(1);\n          break;\n        }\n      }\n    },\n    [page]\n  );\n\n  const handleAddToFavorites = useCallback(\n    (photoObj) => {\n      const hasItem = favorites.find((item) => item.id === photoObj.id);\n\n      if (!hasItem) {\n        setFavorites([...favorites, photoObj]);\n      } else {\n        alert(\"The photo is already in the favorites!\");\n      }\n    },\n    [favorites, setFavorites]\n  );\n\n  const handleRemoveFromFavorites = useCallback(\n    (e, id) => {\n      e.preventDefault();\n\n      const updatedFavorites = favorites.filter((item) => item.id !== id);\n      setFavorites(updatedFavorites);\n    },\n    [favorites, setFavorites]\n  );\n\n  return (\n    <PhotosContext.Provider\n      value={{\n        handleAddToFavorites,\n        handleRemoveFromFavorites,\n        handlePageChange,\n        setLimitPerPage,\n        limitPerPage,\n        page,\n        data,\n        status,\n        favorites,\n      }}\n    >\n      {children}\n    </PhotosContext.Provider>\n  );\n};\n\nexport default PhotosState;\n","import { useState, useEffect } from \"react\";\r\n\r\nimport { storageTypes } from \"../utils/config\";\r\n\r\nexport const useStorage = ({\r\n  key,\r\n  initialValue,\r\n  storageType = storageTypes.local,\r\n}) => {\r\n  const [data, setData] = useState(() => {\r\n    try {\r\n      const item = window[storageType].getItem(key);\r\n\r\n      return item ? JSON.parse(item) : initialValue;\r\n    } catch (error) {\r\n      console.log(\"useLocalStorage error: \", error);\r\n      return initialValue;\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    const item = window[storageType].getItem(key);\r\n\r\n    if (item) {\r\n      setData(JSON.parse(item));\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    window[storageType].setItem(key, JSON.stringify(data));\r\n  }, [data]);\r\n\r\n  return [data, setData];\r\n};\r\n","import App from \"./App\";\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport { Routes } from \"../../routes\";\r\nimport Header from \"../Header\";\r\nimport PhotosState from \"../../context/PhotosState\";\r\n\r\nimport \"reset-css/reset.css\";\r\nimport \"./styles.scss\";\r\n\r\nconst App = () => (\r\n  <PhotosState>\r\n    <div className=\"App\">\r\n      <Header />\r\n      <Routes />\r\n    </div>\r\n  </PhotosState>\r\n);\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter as Router } from \"react-router-dom\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}